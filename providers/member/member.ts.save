import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { Observable } from 'rxjs/Observable';

import { Member } from '../../utils/member';
import { DataServiceProvider } from '../data-service/data-service';
import { PhoneServiceProvider } from '../phone-service/phone-service';

@Injectable()
export class MemberProvider {

  constructor(public ds:DataServiceProvider,public ps:PhoneServiceProvider) {
  }

  public constructMember(item:any):Member {
    var member:Member;


    member = new Member(item.name,item.gender,
                        item.japnative,item.organiser,
                        item.fluentjapanese,item.fluentenglish,
                        item.hobby);
    member.update("docID",item.id);
    member.setgroupID(item.groupID);
    for (let j=0;j<item.voteJapaneseSpeaker;j++) { member.castVoteJapaneseSpeaker(); }
    for (let j=0;j<item.voteEnglishSpeaker;j++) { member.castVoteEnglishSpeaker(); }
    for (let j=0;j<item.voteEntertainingSpeaker;j++) { member.castVoteEntertainingSpeaker(); }
    return member;
  }

}
